- dovecot replication
  - move to docker-compose.test.yml
  - simplify dovecot setup by moving to more static files
  - set up ca for dovecot/replica
  - figure out replication problems

- cron job to do something with contents of spam folders...

- solr network_mode: "service:dovecot"
- compose .env file for shared secrets?
- dovecot, solr, tika, postfix on same local network?
- okay, next thing: get mailserver running on local swarm
- https://docs.datastax.com/en/datastax_enterprise/4.6/datastax_enterprise/srch/srchUpld.html

- slight changes to solr dockerfile?
  https://github.com/docker-solr/docker-solr/issues/10
- but then there's the config, compare against current...

- http://trimc-db.blogspot.co.uk/2015/04/apache-solr-and-docker-for-newbies.html
- letsencrypt on host
- bind9 container
- orchestration / replication
- dovecot replication: http://blog.le-vert.net/?p=160
- dovecot config can be simplified with includes
- dovecot can discover peers via dig, needs to update config/autorestart
  automatically

- need to do docs
- switch to alpine?

- find out more about how stacks work
- docker-compose.test.yml should extend docker-compose.yml but work for test
- save sent mail in Archive?
- not subscribe/index sent/archive?
- compare against these, what's better, what's worse:
    - https://github.com/instrumentisto/docker-mailserver
    - https://rmohan.com/?p=6173
    - https://github.com/tomav/docker-mailserver
    - look at mailinabox and mailcow and https://www.own-mailbox.com/

- put info on which containers need secure network into compose?
- need a webmail solution with sieve support and calendar
- certs from letsencrypt
- replication
  - http://blog.dovecot.org/2012/02/dovecot-clustering-with-dsync-based.html
  - http://wiki.dovecot.org/Replication
  - http://info.crunchydata.com/blog/easy-postgresql-cluster-recipe-using-docker-1.12
  - https://www.darkalchemist.co.uk/2014/05/31/dovecot-dsync-replication/
- dkim key rotation and generation hostname/date in selector

- https://github.com/docker/labs/tree/master/Docker-Orchestration

- user configurable encryption for mail at rest, with time limitations for
  search (e.g., keep mail forever, but only searchable online for 3 months)
